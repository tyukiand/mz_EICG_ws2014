\documentclass{scrartcl}

\input{./packages}
\input{./definitions}
\newcommand{\exercise}[2]{\vspace{1em}\noindent{\bf Exercise #1 (#2)}}
\renewcommand{\proof}{\vspace{0.8em}\noindent{\bf Proof: }}

\begin{document}
\noindent{\footnotesize Computer Graphics 2014/15, Exercise 11} 
\hfill 
{\footnotesize \input{./currentDate.txt}}
\newline
{\footnotesize \input{../../NAMES.txt}}

\noindent\hrulefill

\exercise{11.1}{Normal transformation}
\begin{itemize}
\item[a)]
\begin{align*}
	n'\cdot t'=(n')^T t&\stackrel{!}{=}n^Tt=n\cdot t\\
	n^TG^TMt&\stackrel{!}{=}n^Tt\\
	\Rightarrow G^TM&=\mathbbm{1}\\
	G^T&=M^{-1}\\
	\Rightarrow \hspace*{6mm} G\hspace*{2.5mm}&=\left(M^{-1} \right)^T 
\end{align*}
\item[b)]
	The normal must be pointing outside
\item[c)]
	View the ellipsoid as a dragged unit ball:\\
	\begin{itemize}
		\item[$\bullet$] ball\\
		$\begin{pmatrix}
			x\\y\\z
		\end{pmatrix}$ with $x^2+y^2+z^2 =1$\\
		\item[$\bullet$] ellipsoid\\
				$\begin{pmatrix}
				a x\\b y \\ c z
				\end{pmatrix}$ with $\left( \frac{x}{a}\right) ^2+\left( \frac{y}{b}\right) ^2+\left( \frac{z}{c}\right) ^2 =1$
	\end{itemize}
	In our case are $a=4$, $b=2$, $c=1$\\
	$\Rightarrow$ $M=\begin{pmatrix}
										4 & 0 & 0\\
										0 & 2 & 0\\
										0 & 0 & 1\\
									\end{pmatrix}$\\
	$\Rightarrow$ $G=\left( M^{-1}\right)^T =\begin{pmatrix}
																				\frac{1}{4}& 0 & 0\\
																				0 & \frac{1}{2} & 0\\
																				0 & 0 & 1\\
																				\end{pmatrix}$\\
	normals of ball: $n_B=\begin{pmatrix}
									x\\y\\z
								\end{pmatrix}$ \\
	normal od ellipsoid: $n_e=G n_B=	\begin{pmatrix}
															\frac{x}{4}\\
															 \frac{y}{2}\\
															z\\
														\end{pmatrix}$\\						
\end{itemize}
\exercise{11.2}{Cox-De Boor algorithm}
\begin{align}
	\label{pld}
	p_l^d&=(1-\alpha_l^d)P_{l-1}^{d-1}+\alpha_l^dP_l^d-1\nonumber\\
	&=(1-\frac{t-t_l}{t_{l+1}-t_l})P_{l-1}^{d-1}+\frac{t-t_l}{t_{l+1}-t_l}P_{l}^{d-1}\\
	&=\frac{t_{l+1}-t}{t_{l+1}-t_l})P_{l-1}^{d-1}+\frac{t-t_l}{t_{l+1}-t_l}P_{l}^{d-1}\nonumber
\end{align}\\
\begin{align*}
	x(t)&=\sum_{i=l-d}^{l}B_{i,d}(t)p_i^0=\sum_{i=l-d}^{l} \left( \frac{t-t_i}{t_{i+d}-t_i} B_{i,d-1}(t)+ \frac{t_{i+d+1}-t}{t_{i+d+1}} -t_{i+1}B_{i+1,d-1}(t) 	\right) p_i^0\\
	&=\sum_{i=l-d}^{l}p_i^0\frac{t-t_i}{t_{i+d}-t_i}B_{i,d-1}(t)+\sum_{i=l-d+1}^{l+1}\frac{t_{i+d}-t}{t_{i+d}-t_i}B_{i,d-1}(t)p_{i-1}^0	\\
	&=p_{l-d}^0\frac{t-t_{l-d}}{t_{l-1}-t_{l-d}} \underbrace{B_{l-d,d-1}(t)}_{\substack{0}}+\sum_{i=l-d+1}^{l}B_{i,d-1}(t)\left( p_{i-1}^0\frac{t_{i+d}-t}{t_{i+d}-t_i}+p_i^0\frac{t-t_i}{t_{i+d}-t_i}\right) \\&~~~+\frac{t_{l+d+1}-t}{t_{l+d+1}-t_{l+1}}\underbrace{B_{l+1,d-1}(t)}_{\substack{0}}p_l^0
\end{align*}\\
\begin{align*}
	&\sum_{i=l-d+k}^{l}B_{i,d-k}(t)p_i^k\stackrel{!}{=}\sum_{i=l-d+k+1}^{l}B_{i,d-k-1}(t)p_i^{k+1}\\
	&=\sum_{i=l-d+k}^{l}\left( \frac{t-t_i}{t_{i+d-k}-t_i}B_{i,d-k-1}(t)+\frac{t_{i+d-k+1}-t}{t_{i+d-k+1}-t_{i+1}}B_{i+1,d-k-1}(t)\right)p_i^k\\
	&=\sum_{i=l-d+k+1}^{l}B_{i,d-k-1}(t)\underbrace{\left( \frac{t-t_i}{t_{i+d-k}-t_i}p_i^k+\frac{t_{i+d-k}-t}{t_{i+d-k}-t_i}p_{i-1}^k\right)  }_{\substack{p_i^{k+1}}}
\end{align*}




\end{document}
