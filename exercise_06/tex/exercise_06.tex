\documentclass{scrartcl}

\input{./packages}
\input{./definitions}
\newcommand{\exercise}[2]{\vspace{1em}\noindent{\bf Exercise #1 (#2)}}
\renewcommand{\proof}{\vspace{0.8em}\noindent{\bf Proof: }}

\begin{document}
\noindent{\footnotesize Computer Graphics 2014/15, Exercise 6} 
\hfill 
{\footnotesize \input{./currentDate.txt}}
\newline
{\footnotesize \input{../../NAMES.txt}}

\noindent\hrulefill

\exercise{6.2}{Converting into 	Euler's angles}
\begin{enumerate}[label={a)}]
	\item	
\end{enumerate}	
	Angles have negative sense of rotation.
	$R_x(\phi)=\begin{pmatrix}
			1& 0& 0\\
			0& \cos(\phi)& \sin(\phi)\\
			0& -\sin(\phi)& \cos(\phi)
		\end{pmatrix}$
	$R_y(\theta)=\begin{pmatrix}
		\cos(\theta)& 0& -\sin(\theta)\\
		0& 1& 0\\
		\sin(\theta)& 0 & \cos(\theta)
	\end{pmatrix}$
	\\
	$R_z(\psi)=\begin{pmatrix}
		\cos(\psi)& \sin(\psi)& 0\\
		-\sin(\psi)& \cos(\psi)& 0\\
		0& 0& 1
	\end{pmatrix}$
	
	\begin{flalign*}
	 & R_x(\phi)R_y(\theta)R_z(\psi)
	\\&=\begin{pmatrix}
		1& 0& 0\\
		0& \cos(\phi)& \sin(\phi)\\
		0& -\sin(\phi)& \cos(\phi)
	\end{pmatrix}
	\begin{pmatrix}
		\cos(\theta)& 0& -\sin(\theta)\\
		0& 1& 0\\
		\sin(\theta)& 0 & \cos(\theta)
	\end{pmatrix}
	\begin{pmatrix}
		\cos(\psi)& \sin(\psi)& 0\\
		-\sin(\psi)& \cos(\psi)& 0\\
		0& 0& 1
	\end{pmatrix}\\&=
	\begin{pmatrix}
	1& 0& 0\\
	0& \cos(\phi)& \sin(\phi)\\
	0& -\sin(\phi)& \cos(\phi)
	\end{pmatrix}
	\begin{pmatrix}
		\cos(\theta)\cos(\psi)& \cos(\theta)\sin(\psi)& -\sin(\theta)\\
		-\sin(\psi)& \cos(\psi)& 0\\
		\sin(\theta)\cos(\psi)& \sin(\theta)\sin(\psi) & \cos(\theta)
	\end{pmatrix}
	\\&=	\begin{pmatrix}
	\cos(\theta)\cos(\psi)& \cos(\theta)\sin(\psi)& -\sin(\theta)\\
	\sin(\phi)\sin(\theta)\cos(\psi)-\cos(\phi)\sin(\psi)& \sin(\phi)\sin(\theta)\sin(\psi)+\cos(\phi)\cos(\psi)& \sin(\phi)\cos(\theta)\\
	\cos(\phi)\sin(\theta)\cos(\psi)+\sin(\phi)\sin(\psi)& \cos(\phi)\sin(\theta)\sin(\psi)-\sin(\phi)\cos(\psi) & \cos(\phi)\cos(\theta)
	\end{pmatrix}
	\end{flalign*}

\begin{enumerate}[label={b)}]
	\item
	$R_x(\phi)R_y(\theta)R_z(\psi)=\begin{pmatrix}
		x_1 & y_1 & z_1\\
		x_2 & y_2 & z_2\\
		x_3 & y_3 & z_3
	\end{pmatrix}$
	\\$\Rightarrow$ 
	\begin{equation}
		\theta=-\arcsin(z_1)
		\label{theta}
	\end{equation}
	\begin{itemize}
	\item  $\theta\neq\pm \frac{\pi}{2}$:
	\begin{equation}
		y_1=\sin(\psi)\cos(\theta)
		\label{psi}
	\end{equation}
	\begin{equation}
		z_2=\sin(\phi)\cos(\theta)
		\label{phi}
	\end{equation} 
	\begin{equation}
	\cos(\arcsin(x))=\sqrt{1-\sin^2(\arcsin(x))}=\sqrt{1-x^2}
	\label{cos}
	\end{equation}
	\\$\Rightarrow$ The solutions for $\psi$ and $\phi$ are the same except that where $y_1$ is in the solution for $\psi$ there is $z_2$ in the solution for $\phi$.
	\\Equation \ref{psi},\ref{cos}
	$\Rightarrow$ 
	\begin{align}
		\psi &=\arcsin\left( \frac{y_1}{\cos(\theta)}\right) \nonumber\\
		\psi &=\arcsin\left( \frac{y_1}{\cos(\arcsin(z_1))}\right) \nonumber\\
		\psi &=\arcsin\left( \frac{y_1}{\sqrt{1-z_1^2}}\right) 
	\end{align}

	$\Rightarrow$
	 \begin{equation}
		\phi=\arcsin\left( \frac{z_2}{\sqrt{1-z_1^2}}\right)
	\end{equation}
	
	
	\item $\theta=\pm \frac{\pi}{2}$
	\\Addition theorems:
	\begin{equation}
	\sin(x\pm y)=\sin(x)\cos(y)\pm \cos(x)\sin(y)
	\label{addSin}
	\end{equation}
	
	\begin{equation}
	\cos(x\pm y)=\cos(x)\cos(y)\mp \sin(x)\sin(y)
	\label{addCos}
	\end{equation}
	 $\theta= \frac{\pi}{2}\Leftrightarrow\sin(\theta)=1$
	\\ With equation \ref{addCos},\ref{addSin} and $\cos(\theta)=0$	 you get the following matrix
	\begin{equation*}
		R=\begin{pmatrix}
			0& 0&-1\\
			\sin(\phi-\psi)& \cos(\phi-\psi)& 0\\
			\cos(\phi-\psi))&-\sin(\phi-\psi) & 0)
		\end{pmatrix}
	\end{equation*}
	$\Rightarrow$
	\begin{equation*}
		\phi-\psi=\arcsin(x_2)\\
	\end{equation*}
	\begin{equation}
		\phi=\arcsin(x_2)+\psi
	\end{equation}
		 $\theta= -\frac{\pi}{2}\Leftrightarrow\sin(\theta)=-1$
		 \\ With equation \ref{addCos},\ref{addSin} and $\cos(\theta)=0$ you get the following matrix
		 \begin{equation*}
		 	R=\begin{pmatrix}
		 		0& 0& 1\\
		 		-\sin(\phi+\psi)& \cos(\phi+\psi)& 0\\
		 		-\cos(\phi+\psi))&-\sin(\phi+\psi) & 0)
		 	\end{pmatrix}
		 \end{equation*}
		 $\Rightarrow$
		 \begin{equation*}
		 	\phi+\psi=\arcsin(-x_2)\\
		 \end{equation*}
		 \begin{equation}
		 \phi=-(\arcsin(x_2)+\psi)
		 \end{equation}
\end{itemize}

\end{enumerate}


%\begin{figure}[htbp]
%  \centering\includegraphics[width=0.5\linewidth]{images/exampleImage.png}
%\end{figure}

\end{document}
